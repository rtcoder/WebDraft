var shapes={startShapePoints:[0,0],fill:{isSet:false,color:"#ffffff",opacity:100},startShape:function(){shapes.startShapePoints=[webDraft.mPosition.x,webDraft.mPosition.y]},prepareRect:function(){if(shapes.startShapePoints[0]<=webDraft.mPosition.x){var b=shapes.startShapePoints[0],c=webDraft.mPosition.x-shapes.startShapePoints[0]}else{var b=webDraft.mPosition.x,c=shapes.startShapePoints[0]-webDraft.mPosition.x}if(shapes.startShapePoints[1]<=webDraft.mPosition.y){var d=shapes.startShapePoints[1],a=webDraft.mPosition.y-shapes.startShapePoints[1]}else{var d=webDraft.mPosition.y,a=shapes.startShapePoints[1]-webDraft.mPosition.y}$("#prepareRect").show().css({top:d+parseInt($(webDraft.draw.selectorId).offset().top)+"px",left:b+parseInt($(webDraft.draw.selectorId).offset().left)+"px",width:c+"px",height:a+"px",border:webDraft.size+"px solid "+webDraft.color});if(shapes.fill.isSet){$("#prepareRect").css({background:hexToRgba(shapes.fill.color,shapes.fill.opacity)})}else{$("#prepareRect").css({background:"transparent"})}if(webDraft.shadow.isShadow){$("#prepareRect").css({"box-shadow":webDraft.shadow.offsetX+"px "+webDraft.shadow.offsetY+"px "+webDraft.shadow.blur+"px "+webDraft.shadow.color})}else{$("#prepareRect").css({"box-shadow":"none"})}},drawRect:function(){if(typeof shapes.startShapePoints[0]!=="undefined"&&typeof shapes.startShapePoints[1]!=="undefined"){if(shapes.startShapePoints[0]<=webDraft.mPosition.x){var b=shapes.startShapePoints[0],c=webDraft.mPosition.x-shapes.startShapePoints[0]}else{var b=webDraft.mPosition.x,c=shapes.startShapePoints[0]-webDraft.mPosition.x}if(shapes.startShapePoints[1]<=webDraft.mPosition.y){var d=shapes.startShapePoints[1],a=webDraft.mPosition.y-shapes.startShapePoints[1]}else{var d=webDraft.mPosition.y,a=shapes.startShapePoints[1]-webDraft.mPosition.y}$("#prepareRect").hide();ctx.beginPath();draw.drawStyle();ctx.rect(b,d,c,a);ctx.fill();ctx.stroke()}shapes.startShapePoints=[]},prepareCircle:function(){var c=shapes.startShapePoints[0],e=shapes.startShapePoints[1];if(shapes.startShapePoints[0]<=webDraft.mPosition.x){var d=webDraft.mPosition.x-shapes.startShapePoints[0]}else{var d=shapes.startShapePoints[0]-webDraft.mPosition.x}if(shapes.startShapePoints[1]<=webDraft.mPosition.y){var b=webDraft.mPosition.y-shapes.startShapePoints[1]}else{var b=shapes.startShapePoints[1]-webDraft.mPosition.y}if(d>b){var a=d/2}else{var a=b/2}$("#prepareCircle").show().css({top:e+parseInt($(webDraft.draw.selectorId).offset().top)-a+"px",left:c+parseInt($(webDraft.draw.selectorId).offset().left)-a+"px",width:a*2+"px",height:a*2+"px",border:webDraft.size+"px solid "+webDraft.color,"border-radius":"100%"});if(shapes.fill.isSet){$("#prepareCircle").css({background:hexToRgba(shapes.fill.color,shapes.fill.opacity)})}else{$("#prepareCircle").css({background:"transparent"})}if(webDraft.shadow.isShadow){$("#prepareCircle").css({"box-shadow":webDraft.shadow.offsetX+"px "+webDraft.shadow.offsetY+"px "+webDraft.shadow.blur+"px "+webDraft.shadow.color})}else{$("#prepareCircle").css({"box-shadow":"none"})}},drawCircle:function(){if(typeof shapes.startShapePoints[0]!=="undefined"&&typeof shapes.startShapePoints[1]!=="undefined"){var c=shapes.startShapePoints[0],e=shapes.startShapePoints[1];if(shapes.startShapePoints[0]<=webDraft.mPosition.x){var d=webDraft.mPosition.x-shapes.startShapePoints[0]}else{var d=shapes.startShapePoints[0]-webDraft.mPosition.x}if(shapes.startShapePoints[1]<=webDraft.mPosition.y){var b=webDraft.mPosition.y-shapes.startShapePoints[1]}else{var b=shapes.startShapePoints[1]-webDraft.mPosition.y}if(d>b){var a=d/2}else{var a=b/2}$("#prepareCircle").hide();ctx.beginPath();draw.drawStyle();ctx.arc(c,e,a,0,2*Math.PI,false);ctx.fill();ctx.stroke()}shapes.startShapePoints=[]}};